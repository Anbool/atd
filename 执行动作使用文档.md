## 执行动作使用文档
支持发送邮件和调用API接口两种方式，支持动态获取实际数据。在邮件正文和API接口中，事件触发的结果用payload表示。payload支持以下两种方式：
### 1.可直接获取结果
对于可直接获取的结果，可用{{}}包裹获取，{{}}包裹内容为key的取值，若没有匹配的内容，则显示"",有对应该key的value则显示value。
> 如：结果数量{{ payload.hits.total }}
### 2.在对象数组内的结果
对于想获取对象数组内的值，可用{{#obj_key}}{{value}}{{/obj_key}}包裹{{value}}的前后可加符号进行分割。
> 如：威胁IP {{#payload.hits.hits}}IP: {{_source.ip}} {{/payload.hits.hits}}

### 3.事件结果payload示例
#### 3.1标准模式，字段请参考查询结果,示例如下：
```
payload: {
  "hits": {
    "total": 621,
    "hits": [
      {
        "_source": {
          "ip": "42.99.6.227",
          "city": "北京",
          "pv": 1,
          "province": "北京",
          "country": "中国",
          "reason": "危险UA",
        }
      }
    ]
  },
  "aggregations": {
    "unique_count_perspective_value": {
      "value": 275
    }
  }
}
```
#### 3.2智能模式，字段示例如下：
```
payload: [{
    field: "avg_body_bytes_sent",
    label: "平均后端响应长度",
    value: "突增"
}, {
    field: "avg_request_time_s",
    label: "平均请求时间",
    value: "突减"
}]
```
